# 課題3（質問）
### StoryBookを使って開発することのメリット

- 上位のComponentがまだできていなくても、propsに応じた挙動や操作感を手軽に確認することができる
- 実際には発生しづらい入力/発生し得ない入力が行われた場合の表示を手軽に確認することができる
- ストーリーがComponentのドキュメントになる
- エンジニアがデザイナーにお願いをするときにめっちゃ使えそう

### StoryBookを使って開発することのデメリット

- Vue/Reactなど使用するフロントエンドの技術を理解していることが前提になる気がするので、習得コストがかかる
- あまり繰り返し利用されないComponentに対してはストーリーを作るコストの方が大きくなりそう
    - こういうComponentにはストーリーを作る、こういうのにはストーリーを作らないというルールを決めるのも難しそう
- 対応していない言語を使用した開発には使用できない
    - 「WebアプリとiOSアプリがあって、iOSアプリはSwiftで開発してます」みたいな状況だとWebの方でしか使用できない

# 課題4（クイズ）

- Storyのexport defaultには「title」「component」を含めますがそれぞれどのような役割があるでしょうか？
- Storyのexport defaultには「decorators」を含めることができますが、どのような用途で使用されるでしょうか？

# 24_スナップショットテストを書こう

# 課題1（質問）
### スナップショットテストとはなんでしょうか？説明してください
- プログラムの出力を以前の出力と比較し、両者に差分があるかをテストする手法のこと

### スナップショットテストを用いることで、どのような不具合が防止できるでしょうか？
- コンポーネントの変更によって、予期しない箇所が変更されてしまう不具合
- リンク先を誤って変更してしまった場合など、目視しにくい不具合

### スナップショットテストでは防止できない不具合もあります。3つほど例を挙げてください
- 「出力されるエラーメッセージの件数」などの条件によって出力が変わる不具合
    - 普通にassertionを書いた方が早い
- 変更前と変更後の差分が大きすぎて目視でテスト結果が妥当なものか確認できない不具合

# 課題3（クイズ）

- スナップショットテストで作成されたスナップショットはコミットに含めるべきでしょうか？
- また、その理由は何故でしょうか？

# 25_ビジュアルリグレッションテストを書こう

# 課題2（質問）
### スナップショットテストと比較した場合のビジュアルリグレッションテストのメリット

- コード上は多くの差分があり、スナップショットテストでは目視でOK/NGの判断がしづらいものも一目で判断できる
- OSやデバイスによる差分も確認することができる

### スナップショットテストと比較した場合のビジュアルリグレッションテストのデメリット

- テストに時間がかかる
    - 単体テストと同じ単位で修正ごとに実施しているとストレスになりそう...
- 画像が大量に生成されるため容量を食う

# 課題3（クイズ）

- puppeteerではテスト失敗とみなす差分の閾値を決めることができますが、どのファイルにどのような設定を行えば良いでしょうか？

# 26_E2Eテストを書こう

# 課題2（質問）
### E2Eテストのメリット
- ユーザが実行可能な操作に絞ってテストを行うことができる
- 単体テストでは見切れない画面間の連携含めて確認することができる
- ブラウザに表示されている文言の誤りなども検知できる

### E2Eテストのデメリット
- 単体テストに比べると時間がかかる
- ものによってはE2Eテスト向けのカスタムクラスがプロダクトコードに残る

### 単体/統合/E2Eをどのような基準で選ぶか
- 単体テストで消化できない⇨統合テスト
- 統合テストで消化できない⇨E2Eテスト
    - と流れていくだけに思える

- 「この観点のテストは単体と統合とE2Eどれでやろうかな」と迷うことがそもそもなさそう...と思った

### 以下の質問に当たっての前提
- 要素を特定するための識別子に求められる条件は
    - 常に一意であること
    - 変更される可能性が少ない

### 例えば要素のcssのclassを識別子に使うと、どのような時にどのような問題が起きるでしょうか？（cy.get('.red-button').click()など）
- red-buttonが全て青いボタンに変わってblue-buttonになった時に、red-buttonを指定しているすべてのテストが書き直しになる
    - 変更される可能性が少ないとは言い難い
    - スタイル変更のたびにテストが壊れる可能性がある

### 例えば要素のcssのidを識別子に使うと、どのような時にどのような問題が起きるでしょうか？（cy.get('#button1').click()）
- フレームワークのアップデートによりすべてのidにプレフィックスが必要になった時に、すべてのテストで指定idの変更が必要になる
    - クラスよりは変更される可能性が少なそう

### 例えば要素の文言を識別子に使うと、どのような時にどのような問題が起きるでしょうか？（cy.contains('ほげ').click()）
- その文言を含む要素が複数個あった時に、意図している要素を取得できているか確認が必要になる
    - 一意性が担保できていない
    - 文言自体が変更されたらOUTだけど、文言をラップしている要素は変更に強くなる